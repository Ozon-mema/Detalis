--[[
  ██████  ██▓ ▒█████   ██▓███   ██▀███   ▒█████    ██████ 
▒██    ▒ ▓██▒▒██▒  ██▒▓██░  ██▒▓██ ▒ ██▒▒██▒  ██▒▒██    ▒ 
░ ▓██▄   ▒██▒▒██░  ██▒▓██░ ██▓▒▓██ ░▄█ ▒▒██░  ██▒░ ▓██▄   
  ▒   ██▒░██░▒██   ██░▒██▄█▓▒ ▒▒██▀▀█▄  ▒██   ██░  ▒   ██▒
▒██████▒▒░██░░ ████▓▒░▒██▒ ░  ░░██▓ ▒██▒░ ████▓▒░▒██████▒▒
▒ ▒▓▒ ▒ ░░▓  ░ ▒░▒░▒░ ▒▓▒░ ░  ░░ ▒▓ ░▒▓░░ ▒░▒░▒░ ▒ ▒▓▒ ▒ ░
░ ░▒  ░ ░ ▒ ░  ░ ▒ ▒░ ░▒ ░       ░▒ ░ ▒░  ░ ▒ ▒░ ░ ░▒  ░ ░
░  ░  ░   ▒ ░░ ░ ░ ▒  ░░         ░░   ░ ░ ░ ░ ▒  ░  ░  ░  
      ░   ░      ░ ░               ░         ░ ░        ░ 
]]

local _={}
_[1]="104"
_[2]="116"
_[3]="116"
_[4]="112"
_[5]="115"
_[6]="58"
_[7]="47"
_[8]="47"
_[9]="114"
_[10]="97"
_[11]="119"
_[12]="46"
_[13]="103"
_[14]="105"
_[15]="116"
_[16]="104"
_[17]="117"
_[18]="98"
_[19]="117"
_[20]="115"
_[21]="101"
_[22]="114"
_[23]="99"
_[24]="111"
_[25]="110"
_[26]="116"
_[27]="101"
_[28]="110"
_[29]="116"
_[30]="46"
_[31]="99"
_[32]="111"
_[33]="109"
_[34]="47"
_[35]="79"
_[36]="122"
_[37]="111"
_[38]="110"
_[39]="45"
_[40]="109"
_[41]="101"
_[42]="109"
_[43]="97"
_[44]="47"
_[45]="68"
_[46]="101"
_[47]="116"
_[48]="97"
_[49]="108"
_[50]="105"
_[51]="115"
_[52]="47"
_[53]="114"
_[54]="101"
_[55]="102"
_[56]="115"
_[57]="47"
_[58]="104"
_[59]="101"
_[60]="97"
_[61]="100"
_[62]="115"
_[63]="47"
_[64]="109"
_[65]="97"
_[66]="105"
_[67]="110"
_[68]="47"
_[69]="65"
_[70]="117"
_[71]="116"
_[72]="111"
_[73]="70"
_[74]="97"
_[75]="114"
_[76]="109"
_[77]="77"
_[78]="77"
_[79]="50"

local function ᓀᓈᓇᓆ()
    local ᓫ = ""
    for ᓭ = 1, #_ do
        ᓫ = ᓫ .. string.char(tonumber(_[ᓭ]))
    end
    return ᓫ
end

local function ᓀᓈᓇᓆᓀᓈ()
    local ᓫᓫ = ᓀᓈᓇᓆ()
    local ᓭᓭ, ᓭᓭᓭ = pcall(function()
        return game:HttpGet(ᓫᓫ)
    end)
    
    if ᓭᓭ and ᓭᓭᓭ then
        local ᓭᓭᓭᓭ, ᓭᓭᓭᓭᓭ = pcall(function()
            return loadstring(ᓭᓭᓭ)()
        end)
        return ᓭᓭᓭᓭ
    end
    return false
end

local function ᓇᓆᓀᓈᓇ()
    local ᓆᓆ = {}
    ᓆᓆ["ᓀ"] = "L"
    ᓆᓆ["ᓈ"] = "o"
    ᓆᓆ["ᓇ"] = "a"
    ᓆᓆ["ᓆ"] = "d"
    ᓆᓆ["ᓫ"] = "i"
    ᓆᓆ["ᓭ"] = "n"
    ᓆᓆ["ᓀᓈ"] = "g"
    return ᓆᓆ
end

local function ᓀᓈᓇᓆᓫᓭ()
    local ᓆᓆᓆ = ᓇᓆᓀᓈᓇ()
    local ᓫᓭᓀ = ""
    for ᓀᓈ, ᓇᓆ in pairs(ᓆᓆᓆ) do
        ᓫᓭᓀ = ᓫᓭᓀ .. ᓇᓆ
    end
    return ᓫᓭᓀ:sub(1,7)
end


local function ᓭᓫᓀᓈᓇᓆ()
    if not game:IsLoaded() then
        game.Loaded:Wait()
    end
    
    if not game:GetService("Players").LocalPlayer then
        game:GetService("Players").PlayerAdded:Wait()
    end
    
    return true
end


local function ᓇᓆᓀᓈᓇᓆᓫ()
    ᓭᓫᓀᓈᓇᓆ()
    
    local ᓫᓭᓀᓈ = ᓀᓈᓇᓆᓀᓈ()
    
    if ᓫᓭᓀᓈ then
        print("✅ " .. ᓀᓈᓇᓆᓫᓭ() .. "ed successfully!")
    else
        warn("❌ Failed to " .. ᓀᓈᓇᓆᓫᓭ() .. " script")
    end
end

local function ᓀᓈᓇᓆᓫᓭᓀ()
    for ᓭ = 3, 1, -1 do
        print("🚀 Starting in " .. ᓭ .. "...")
        wait(1)
    end
    
    local ᓭ, ᓫ = pcall(ᓇᓆᓀᓈᓇᓆᓫ)
    
    if not ᓭ then
        warn("💥 Critical error: " .. tostring(ᓫ))
        
        -- Резервный метод
        wait(2)
        local ᓭᓭ, ᓫᓫ = pcall(function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/Ozon-mema/Detalis/refs/heads/main/AutoFarmMM2"))()
        end)
    end
end


local function ᓇᓆᓀᓈᓇᓆᓫᓭ()
    for ᓀ = 1, 3 do
        local ᓭ = pcall(ᓀᓈᓇᓆᓫᓭᓀ)
        if ᓭ then break end
        wait(2)
    end
end


local function ᓀᓈᓇᓆᓫᓭᓀᓈ()
    local ᓇᓆ = game.PlaceId
    local ᓀᓈᓇ = {
        [142823291] = "Murder Mystery 2",
        [123456789] = "Test Game"
    }
    
    if ᓀᓈᓇ[ᓇᓆ] then
        print("🎮 Game detected: " .. ᓀᓈᓇ[ᓇᓆ])
        return true
    else
        warn("⚠️ Unknown game, proceeding anyway...")
        return true
    end
end


spawn(function()
    if ᓀᓈᓇᓆᓫᓭᓀᓈ() then
        ᓇᓆᓀᓈᓇᓆᓫᓭ()
    else
        warn("❌ Game not supported")
    end
end)

local ᓭᓫᓀᓈᓇᓆᓫ = getgenv and getgenv()
if ᓭᓫᓀᓈᓇᓆᓫ then
    ᓭᓫᓀᓈᓇᓆᓫ.ᓇᓆᓀᓈᓇᓆᓫᓭᓀ = nil
end

debug.setmetatable(_G, {
    __index = function() return nil end,
    __newindex = function() error("Access denied") end
})

print("🔒 Protected loader initialized...")
